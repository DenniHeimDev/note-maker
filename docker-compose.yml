services:
  note-maker:
    build:
      context: .
    environment:
      OPENAI_API_KEY: "${OPENAI_API_KEY}"
      # Paths *inside the container* (volumes mounted below)
      HOST_INPUT_DIR: "/host/input"
      HOST_OUTPUT_DIR: "/host/output"
      HOST_COPY_DIR: "/host/copies"
    ports:
      - "8000:8000"
    volumes:
      - ${HOST_INPUT_PATH}:/host/input
      - ${HOST_OUTPUT_PATH}:/host/output
      - ${HOST_COPY_PATH}:/host/copies
    working_dir: /app
    command: [ "python", "_main.py" ]
